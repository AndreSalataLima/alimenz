<h1>Editar Fornecedor: <%= @fornecedor.nome %></h1>

<%= form_with model: [:admin, @fornecedor], local: true, multipart: true do |f| %>
  <div>
    <%= f.label :telefone, "Telefone" %><br>
    <%= f.text_field :telefone %>
  </div>

  <!-- Assinatura -->
  <div>
    <h2>Assinatura</h2>
    <% assinatura = @fornecedor.assinatura || @fornecedor.build_assinatura %>

    <% if assinatura.imagem_assinatura.attached? %>
      <p>Assinatura atual:</p>
      <%= image_tag assinatura.imagem_assinatura, width: 200 %>
    <% else %>
      <p>Nenhuma assinatura cadastrada.</p>
    <% end %>

    <%= f.fields_for :assinatura_attributes, assinatura do |af| %>
      <div>
        <%= af.label :imagem_assinatura, "Upload de nova assinatura (imagem)" %><br>
        <%= af.file_field :imagem_assinatura %>
      </div>
    <% end %>
  </div>

  <div>
    <%= f.submit "Atualizar Fornecedor", class: "btn btn-primary" %>
  </div>
<% end %>
