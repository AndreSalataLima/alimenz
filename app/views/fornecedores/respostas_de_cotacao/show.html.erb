<h1>Detalhes da Resposta de Cotação</h1>

<div class="mb-4">
  <p><strong>Cotação:</strong> Cotação #<%= @resposta.cotacao.id %></p>
  <p><strong>Data de Validade da Cotação:</strong> <%= @resposta.cotacao.data_validade.strftime("%d/%m/%Y") if @resposta.cotacao.data_validade %></p>
  <p><strong>Status:</strong> <%= @resposta.status.capitalize %></p>
  <p><strong>Data de Validade da Resposta:</strong> <%= @resposta.data_validade.strftime("%d/%m/%Y") if @resposta.data_validade %></p>
</div>

<h2>Itens da Resposta</h2>
<table class="table-auto w-full border-collapse">
  <thead>
    <tr class="bg-gray-100 border-b">
      <th class="px-2 py-2">Produto</th>
      <th class="px-2 py-2">Unidade</th>
      <th class="px-2 py-2">Quantidade</th>
      <th class="px-2 py-2">Preço (R$)</th>
    </tr>
  </thead>
  <tbody>
    <% @resposta.resposta_de_cotacao_items.each do |item| %>
      <tr class="border-b">
        <td class="px-2 py-2"><%= item.item_de_cotacao.produto.nome_generico %></td>
        <td class="px-2 py-2"><%= item.item_de_cotacao.unidade_selecionada %></td>
        <td class="px-2 py-2"><%= item.item_de_cotacao.quantidade %></td>
        <td class="px-2 py-2">
          <%= item.preco.present? ? number_to_currency(item.preco, unit: "R$") : "-" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<% if @resposta.status == "pendente" %>
  <%= link_to "Responder", edit_fornecedores_resposta_de_cotacao_path(@resposta), class: "bg-green-500 text-white px-4 py-2 rounded mt-4 inline-block" %>
<% end %>
